---
active: true
derived: false
level: 4
links:
- SRS-001: TCkfEUw7oV6-JmSlCrNANGWu0xA3NQ0VR9p6-4KUqAE=
- SRS-002: T2hCEZiQ82h05s4lPOESWDTvmA8IKU5ecgAhLrj45Jw=
- SRS-005: H2GVRsGa2dkQGljQ6fTXiPi86ygrMiOw9B78EiNlDGs=
- SRS-006: ew6vVWK8-PativRFEG9SdjbbAOehK2AfqxWN_ipYXmY=
- SRS-008: 6lLr1wvs6VzpJHoZt4GHLB7bnFpwkatufN_CFjPdubQ=
- SRS-009: MaDwsBi1ARHU2AyFwfb_cHR2IPmgSoiasTYrCommLJs=
- SRS-010: O1nmB0XVsC-_b4PF3mh9xgeP9Y4W6iq4FpnEWq8gvRI=
- SRS-013: B8mW4VEszsW0MRPVNirhBgm4oL6XMhqrkC08aA2qlIM=
- SRS-020: 81ELGFIwWjucVnJiHG6R7d3dxueBj6trgUAKr4YLVkE=
- SRS-023: dFAkiulxRryXPJ2NyyadXVEXmd5LYmEKOedWQVcOOkU=
- SRS-024: riEAeUjNlkdrHhp15vpSXzcH0uAtfvnR2IS2IWvf2DQ=
- SRS-028: IKdZ7ir3DjY5uz5taIOh5q7ej9k2SmQ-i6CEJGcc5CU=
- SRS-029: 68aj7rtgaCOG2luVZpiO380LYut4Mrm-lB7YmRyuVx4=
normative: true
ref: ''
reviewed: 398EvWt5GRUdIzARhy2fLid0JuLCcmzysBGP0I4PVUI=
---

# ETL components

The following diagram depicts the main components of the ETL system.

![ETL system components](assets/2C0A1B_DIA_ETL-components.png)

Roughly, the `ETLOrchestrator` is in charge of the logic for executing the ETL process assisted by an `Extractor`, a `Transformer` and a `Loader`.

A suitable `Extractor` fetches data from an external source and creates and stores a datasource in STIX 2.1 format in a predefined folder. For the initial version, we will only consider an extractor for datasources already in STIX 2.1, namely the `STIXExtractor`. In future phases, the integration of data in other formats can be supported by extending the architecture with new Extractors.

The ETL subsystem interacts with the following components:

- **ETL runner**: this is the component that triggers the ETL process according to predefined settings.
- **STIX datasets**: a predefined folder in the file system storing datasets in STIX2.1 JSON format.
- **CTI SKB**: the database of SATRAP in TypeDB.
- **Data Management**: includes components aimed at handling data, such as the DB manager which manages the connections and operations over the CTI SKB. Some of the functions in this class are: `create_db`, `setup_schema`, `load_db_data`, `insert` and `delete`.