########
# MISP 
########

MISP_CORE_TAG=v2.5.31
# MISP_CORE_FLAVOR=standard
MISP_MODULES_TAG=v3.0.5
# MISP_MODULES_FLAVOR=standard
MISP_GUARD_TAG=v1.2
MISP_PHP_VER=20240924

# PYPI_* vars take precedence over MISP's
# MISP_PYPI_REDIS_VERSION="==5.0.*"
# MISP_PYPI_LIEF_VERSION=">=0.13.1"
# MISP_PYPI_PYDEEP2_VERSION="==0.5.*"
# MISP_PYPI_PYTHON_MAGIC_VERSION="==0.4.*"
# MISP_PYPI_MISP_LIB_STIX2_VERSION="==3.0.*"
# MISP_PYPI_MAEC_VERSION="==4.1.*"
# MISP_PYPI_MIXBOX_VERSION="==1.0.*"
# MISP_PYPI_CYBOX_VERSION="==2.1.*"
# MISP_PYPI_PYMISP_VERSION="==2.5.9"
# MISP_PYPI_MISP_STIX_VERSION="==2.4.194"
# MISP_PYPI_TAXII2_CLIENT="==2.3.0"
MISP_PYPI_SETUPTOOLS_VERSION="==80.3.1"
MISP_PYPI_SUPERVISOR_VERSION="==4.2.5"

# CORE_COMMIT takes precedence over CORE_TAG
# MISP_CORE_COMMIT=0bba3f5
# MODULES_COMMIT takes precedence over MODULES_TAG
# MISP_MODULES_COMMIT=de69ae3
# GUARD_COMMIT takes precedence over GUARD_TAG
# MISP_GUARD_COMMIT=370b043

##
# Run-time variables
##

# MISP_CORE_RUNNING_TAG=latest
# MISP_MODULES_RUNNING_TAG=latest
# MISP_GUARD_RUNNING_TAG=latest

# Email/username for user #1, defaults to MISP's default (admin@admin.test)
MISP_ADMIN_EMAIL=
# name of org #1, default to MISP's default (ORGNAME)
MISP_ADMIN_ORG=
# uuid of org #1, defaults to an automatically generated one
MISP_ADMIN_ORG_UUID=
# defaults to an automatically generated one
MISP_ADMIN_KEY=
# defaults to MISP's default (admin)
MISP_ADMIN_PASSWORD=
# Prevent MISP Initialization from writing ADMIN_KEY and ADMIN_PASSWORD in plaintext
# Recommend uncommenting / setting to true in production or kubernetes environments where output is logged.
#MISP_DISABLE_PRINTING_PLAINTEXT_CREDENTIALS=true
# defaults to 'passphrase'
MISP_GPG_PASSPHRASE=
# defaults to 1 (the admin user)
MISP_CRON_USER_ID=
# defaults to 'https://localhost'
MISP_BASE_URL=
# defaults to 80 and 443, don't forget to update the base url if not the defaults one
# MISP_CORE_HTTP_PORT=
# MISP_CORE_HTTPS_PORT=
# store settings in db except those that must stay in config.php. true/false, defaults to false
MISP_ENABLE_DB_SETTINGS=
# encryption key. defaults to empty string
MISP_ENCRYPTION_KEY=
# enable background updates. defaults to false
MISP_ENABLE_BACKGROUND_UPDATES=
# use a different attachments_dir. defaults to /var/www/MISP/app/files
MISP_ATTACHMENTS_DIR=

# By default, a daily synchronization is performed, but you can modify this by changing the push and pull frequency (in seconds).
# MISP_CRON_PULLALL="86400"
# MISP_CRON_PUSHALL="86400"

# defines the FQDN of the mail sub-system (defaults to 'mail')
# MISP_SMTP_FQDN=
# override the port of the mail sub-system (defaults to 25)
# MISP_SMTP_PORT=

# optional and used by the mail sub-system
MISP_SMARTHOST_ADDRESS=
MISP_SMARTHOST_PORT=
MISP_SMARTHOST_USER=
MISP_SMARTHOST_PASSWORD=
MISP_SMARTHOST_ALIASES=

# optional AWS SES SMTP relay settings (use these instead of the generic smarthost)
# MISP_SES_USER=
# MISP_SES_PASSWORD=
# MISP_SES_REGION=
# MISP_SES_PORT=

# optional comma separated list of IDs of syncservers (e.g. SYNCSERVERS=1)
MISP_SYNCSERVERS=
# note: if you have more than one syncserver, you need to update docker-compose.yml
MISP_SYNCSERVERS_1_URL=
MISP_SYNCSERVERS_1_NAME=
MISP_SYNCSERVERS_1_UUID=
MISP_SYNCSERVERS_1_KEY=
MISP_SYNCSERVERS_1_PULL_RULES=

# optional, specify host and credentials for externally running supervisord
# MISP_SUPERVISOR_HOST=
# MISP_SUPERVISOR_USERNAME=
# MISP_SUPERVISOR_PASSWORD=

# optional and used to set mysql db and credentials
# MISP_MYSQL_HOST=
# MISP_MYSQL_PORT=
# MISP_MYSQL_USER=
# MISP_MYSQL_PASSWORD=
# MISP_MYSQL_ROOT_PASSWORD=
# MISP_MYSQL_DATABASE=

# optional and used to set mysql db TLS configuration
# MISP_MYSQL_TLS=true
# MISP_MYSQL_TLS_CA=/custom/files/tls/misp_ca.pem
# MISP_MYSQL_TLS_CERT=/custom/files/tls/misp_cert.cert
# MISP_MYSQL_TLS_KEY=/custom/files/tls/misp_key.key

# optional and used to set redis
# MISP_REDIS_HOST=
# MISP_REDIS_PORT=
# MISP_REDIS_PASSWORD=
# MISP_ENABLE_REDIS_EMPTY_PASSWORD=false

# These variables allows overriding some MISP email values.
# They all default to ADMIN_EMAIL.
# MISP_MISP_EMAIL=
# MISP_MISP_CONTACT=

# Enable GPG autogeneration (default true)
# MISP_AUTOCONF_GPG=true

# Enable admin (user #1) API key autogeneration (default true)
# MISP_AUTOGEN_ADMIN_KEY=true

# Disable IPv6 completely
# MISP_DISABLE_IPV6=true

# Disable SSL redirect
# MISP_DISABLE_SSL_REDIRECT=true

# Disable CA refresh
# MISP_DISABLE_CA_REFRESH=true

# OIDC
# MISP_OIDC_ENABLE=true
# MISP_OIDC_PROVIDER_URL=
# MISP_OIDC_ISSUER=
# MISP_OIDC_CLIENT_ID=
# MISP_OIDC_CLIENT_SECRET=
# MISP_OIDC_CODE_CHALLENGE_METHOD=S256
# MISP_OIDC_ROLES_PROPERTY="roles"
# MISP_OIDC_ROLES_MAPPING="{\"admin\": 1}"
# MISP_OIDC_DEFAULT_ORG=
# MISP_OIDC_MIXEDAUTH=true
# MISP_OIDC_AUTH_METHOD="client_secret_post"
# MISP_OIDC_REDIRECT_URI=
# MISP_OIDC_SCOPES="[\"profile\", \"email\"]"
# MISP_OIDC_LOGOUT_URL=

# ApacheSecureAuth LDAP
# MISP_APACHESECUREAUTH_LDAP_ENABLE=true
# MISP_APACHESECUREAUTH_LDAP_APACHE_ENV="REMOTE_USER"
# MISP_APACHESECUREAUTH_LDAP_SERVER="ldap://your_domain_controller"
# MISP_APACHESECUREAUTH_LDAP_STARTTLS=true
# MISP_APACHESECUREAUTH_LDAP_READER_USER=
# MISP_APACHESECUREAUTH_LDAP_READER_PASSWORD=
# MISP_APACHESECUREAUTH_LDAP_DN=
# MISP_APACHESECUREAUTH_LDAP_SEARCH_FILTER=""
# MISP_APACHESECUREAUTH_LDAP_SEARCH_ATTRIBUTE="uid"
# MISP_APACHESECUREAUTH_LDAP_FILTER="[\"mail\", \"uid\", \"cn\" ]"
# MISP_APACHESECUREAUTH_LDAP_DEFAULT_ROLE_ID="3"
# MISP_APACHESECUREAUTH_LDAP_DEFAULT_ORG="1"
# MISP_APACHESECUREAUTH_LDAP_EMAIL_FIELD="[\"mail\"]"
# MISP_APACHESECUREAUTH_LDAP_OPT_PROTOCOL_VERSION="3"
# MISP_APACHESECUREAUTH_LDAP_OPT_NETWORK_TIMEOUT="-1"
# MISP_APACHESECUREAUTH_LDAP_OPT_REFERRALS=false

# LdapAuth plugin
# MISP_LDAPAUTH_ENABLE=true
# MISP_LDAPAUTH_LDAPSERVER=
# MISP_LDAPAUTH_LDAPDN=
# MISP_LDAPAUTH_LDAPREADERUSER=
# MISP_LDAPAUTH_LDAPREADERPASSWORD=
# MISP_LDAPAUTH_LDAPSEARCHFILTER=
# MISP_LDAPAUTH_LDAPSEARCHATTRIBUTE=
# MISP_LDAPAUTH_LDAPEMAILFIELD=
# MISP_LDAPAUTH_LDAPNETWORKTIMEOUT="-1"
# MISP_LDAPAUTH_LDAPPROTOCOL="3"
# MISP_LDAPAUTH_LDAPALLOWREFERRALS=true
# MISP_LDAPAUTH_STARTTLS=false
# MISP_LDAPAUTH_MIXEDAUTH=true
# MISP_LDAPAUTH_LDAPDEFAULTORGID="1"
# MISP_LDAPAUTH_LDAPDEFAULTROLEID="3"
# MISP_LDAPAUTH_UPDATEUSER=true
# MISP_LDAPAUTH_DEBUG=false
# MISP_LDAPAUTH_LDAPTLSREQUIRECERT="LDAP_OPT_X_TLS_ALLOW"
# MISP_LDAPAUTH_LDAPTLSCUSTOMCACERT=false
# MISP_LDAPAUTH_LDAPTLSCRLCHECK="LDAP_OPT_X_TLS_CRL_PEER"
# MISP_LDAPAUTH_LDAPTLSPROTOCOLMIN="LDAP_OPT_X_TLS_PROTOCOL_TLS1_2"

# AAD / Entra
# MISP_AAD_ENABLE=true
# MISP_AAD_CLIENT_ID=
# MISP_AAD_TENANT_ID=
# MISP_AAD_CLIENT_SECRET=
# MISP_AAD_REDIRECT_URI="https://misp.mydomain.com/users/login"
# MISP_AAD_PROVIDER="https://login.microsoftonline.com/"
# MISP_AAD_PROVIDER_USER="https://graph.microsoft.com/"
# MISP_AAD_MISP_USER="Misp Users"
# MISP_AAD_MISP_ORGADMIN="Misp Org Admins"
# MISP_AAD_MISP_SITEADMIN="Misp Site Admins"
# MISP_AAD_CHECK_GROUPS=false

# Proxy
# MISP_PROXY_ENABLE=true
# MISP_PROXY_HOST=
# MISP_PROXY_PORT=
# MISP_PROXY_METHOD=
# MISP_PROXY_USER=
# MISP_PROXY_PASSWORD=

# S3
# MISP_S3_BUCKET=
# MISP_S3_ENDPOINT=
# MISP_S3_ACCESS_KEY=
# MISP_S3_SECRET_KEY=

## MISP-Guard
# MISP_COMPOSE_PROFILES=misp-guard
# MISP_GUARD_PORT=8888
# MISP_GUARD_ARGS=--ssl-insecure -v

# Debug
# MISP_DEBUG=

# FastCGI
# MISP_FASTCGI_READ_TIMEOUT=300s
# MISP_FASTCGI_SEND_TIMEOUT=300s
# MISP_FASTCGI_CONNECT_TIMEOUT=300s
# MISP_FASTCGI_STATUS_LISTEN=""

# PHP (runtime)
# MISP_PHP_MEMORY_LIMIT=2048M
# MISP_PHP_MAX_EXECUTION_TIME=300
# MISP_PHP_UPLOAD_MAX_FILESIZE=50M
# MISP_PHP_POST_MAX_SIZE=50M
# MISP_PHP_MAX_INPUT_TIME=300
# MISP_PHP_MAX_FILE_UPLOADS=50
# MISP_PHP_FCGI_CHILDREN=5
# MISP_PHP_FCGI_START_SERVERS=2
# MISP_PHP_FCGI_SPARE_SERVERS=1
# MISP_PHP_FCGI_MAX_REQUESTS=0
# MISP_PHP_SESSION_TIMEOUT=60
# MISP_PHP_SESSION_COOKIE_TIMEOUT=10080
# MISP_PHP_SESSION_DEFAULTS=php
# MISP_PHP_SESSION_AUTO_REGENERATE=false
# MISP_PHP_SESSION_CHECK_AGENT=false
# MISP_PHP_SESSION_COOKIE_SECURE=true
# MISP_PHP_SESSION_COOKIE_DOMAIN=
# MISP_PHP_SESSION_COOKIE_SAMESITE=Lax

# MariaSQL/MySQL (InnoDB) configuration
# MISP_INNODB_BUFFER_POOL_SIZE=2048M
# MISP_INNODB_CHANGE_BUFFERING=none
# MISP_INNODB_IO_CAPACITY=1000
# MISP_INNODB_IO_CAPACITY_MAX=2000
# MISP_INNODB_LOG_FILE_SIZE=600M
# MISP_INNODB_READ_IO_THREADS=16
# MISP_INNODB_STATS_PERSISTENT=ON
# MISP_INNODB_WRITE_IO_THREADS=4

# NGINX
# MISP_NGINX_X_FORWARDED_FOR=true
# MISP_NGINX_SET_REAL_IP_FROM=127.0.0.1
# MISP_NGINX_CLIENT_MAX_BODY_SIZE=50M

# Security
# MISP_HSTS_MAX_AGE=
# MISP_X_FRAME_OPTIONS=
# MISP_CONTENT_SECURITY_POLICY=


#############
# Flowintel
#############

# FlowIntel: PostgreSQL
FLOWINTEL_POSTGRES_DB=flowintel
FLOWINTEL_POSTGRES_USER=flowintel
FLOWINTEL_POSTGRES_PASSWORD=flowintel
FLOWINTEL_POSTGRES_PORT=5432

# FlowIntel: Valkey
FLOWINTEL_VALKEY_PORT=6379
FLOWINTEL_VALKEY_IP=valkey

# FlowIntel: App
FLOWINTEL_APP_PORT=7006
FLOWINTEL_APP_IP=0.0.0.0

# FlowIntel: Flask
FLOWINTEL_FLASK_ENV=production